<!--
slug: security-update-breach-php-and-phalcon
date: Tue Aug 06 2013 17:54:00 GMT-0400 (EDT)
tags: security, php, phalcon
title: Security Update: BREACH, PHP and Phalcon
id: 57552534494
link: http://blog.phalconphp.com/post/57552534494/security-update-breach-php-and-phalcon
raw: {"blog_name":"phalconphp","id":57552534494,"post_url":"http://blog.phalconphp.com/post/57552534494/security-update-breach-php-and-phalcon","slug":"security-update-breach-php-and-phalcon","type":"text","date":"2013-08-06 21:54:00 GMT","timestamp":1375826040,"state":"published","format":"html","reblog_key":"GgHt31cr","tags":["security","php","phalcon"],"short_url":"http://tmblr.co/Z6PumvrcPVlU","highlighted":[],"note_count":1,"title":"Security Update: BREACH, PHP and Phalcon","body":"<div align=\"center\"><iframe frameborder=\"0\" height=\"315\" src=\"//www.youtube.com/embed/pIKIXQNFplY\" width=\"420\"></iframe></div>\n<p>Last week, security researchers announced that a new attack towards websites has been discovered called <a href=\"http://breachattack.com/\">BREACH</a>. This attack allows the attacker to obtain data even if connections are secured with SSL connections. Several web sites and applications could be compromised. Note that this attack could affect any web application no matter the technology (language, os, frameworks, etc) that powers it. Their <a href=\"http://breachattack.com/resources/BREACH%20-%20SSL,%20gone%20in%2030%20seconds.pdf\">paper</a> explains the attack and provides full details on how it works.</p>\n<p>In short, your application may be affected if:</p>\n<ul><li>Your page is served with HTTP compression enabled (GZIP / DEFLATE).</li>\n<li>Your page reflects user data via query string parameters, POST, etc.</li>\n<li>Your application page serves Personally identifiable information<em> (</em>PII), a CSRF token, sensitive data..</li>\n</ul><p>According to the <a href=\"http://breachattack.com/#mitigations\">possible solutions</a> to mitigate this attack as suggested by the authors, you can:</p>\n<ul><li>Disable HTTP compression.</li>\n<li>Separate secrets from user input</li>\n<li>Randomize secrets per request</li>\n<li>Mask secrets (effectively randomizing by XORing with a random secret per request)</li>\n<li>Protect vulnerable pages with CSRF</li>\n<li>Length hide (by adding random amount of bytes to the responses)</li>\n<li>Rate-limit the requests</li>\n</ul><p>By default, Phalcon randomizes CSRF secrets for every request using pseudo random string of bytes. If you have altered this behavior we strongly suggest that you restore it to the default one.</p>\n<p>You are also encouraged to disable GZip compression on your web server. For Apache, disable the <a href=\"http://httpd.apache.org/docs/2.2/mod/mod_deflate.html\">mod_deflate</a> module and for nginX the <a href=\"http://wiki.nginx.org/HttpGzipModule\">gzip module</a>. If you are using a different web server please check the relevant documentation in order to disable gzip compression if it is currently in use.</p>","reblog":{"tree_html":"","comment":"<div align=\"center\"><iframe frameborder=\"0\" height=\"315\" src=\"//www.youtube.com/embed/pIKIXQNFplY\" width=\"420\"></iframe></div>\n<p>Last week, security researchers announced that a new attack towards websites has been discovered called <a href=\"http://breachattack.com/\">BREACH</a>. This attack allows the attacker to obtain data even if connections are secured with SSL connections. Several web sites and applications could be compromised. Note that this attack could affect any web application no matter the technology (language, os, frameworks, etc) that powers it. Their <a href=\"http://breachattack.com/resources/BREACH%20-%20SSL,%20gone%20in%2030%20seconds.pdf\">paper</a> explains the attack and provides full details on how it works.</p>\n<p>In short, your application may be affected if:</p>\n<ul><li>Your page is served with HTTP compression enabled (GZIP / DEFLATE).</li>\n<li>Your page reflects user data via query string parameters, POST, etc.</li>\n<li>Your application page serves&nbsp;Personally identifiable information<em> (</em>PII), a CSRF token, sensitive data..</li>\n</ul><p>According to the <a href=\"http://breachattack.com/#mitigations\">possible solutions</a> to mitigate this attack as suggested by the authors, you can:</p>\n<ul><li>Disable HTTP compression.</li>\n<li>Separate secrets from user input</li>\n<li>Randomize secrets per request</li>\n<li>Mask secrets (effectively randomizing by XORing with a random secret per request)</li>\n<li>Protect vulnerable pages with CSRF</li>\n<li>Length hide (by adding random amount of bytes to the responses)</li>\n<li>Rate-limit the requests</li>\n</ul><p>By default, Phalcon randomizes CSRF secrets for every request using pseudo random string of bytes. If you have altered this behavior we strongly suggest that you restore it to the default one.</p>\n<p>You are also encouraged to disable GZip compression on your web server. For Apache, disable the <a href=\"http://httpd.apache.org/docs/2.2/mod/mod_deflate.html\">mod_deflate</a> module and for nginX the <a href=\"http://wiki.nginx.org/HttpGzipModule\">gzip module</a>. If you are using a different web server please check the relevant documentation in order to disable gzip compression if it is currently in use.</p>"},"trail":[{"blog":{"name":"phalconphp","theme":{"header_full_width":1117,"header_full_height":426,"header_focus_width":758,"header_focus_height":426,"avatar_shape":"square","background_color":"#FAFAFA","body_font":"Helvetica Neue","header_bounds":"0,937,426,179","header_image":"http://static.tumblr.com/be2b0380984b972b47699d457f4c0ffb/ivjir8a/815nn0qo7/tumblr_static_28z87js742xwowwo0kco04ogs.jpg","header_image_focused":"http://static.tumblr.com/be2b0380984b972b47699d457f4c0ffb/ivjir8a/laHnn0qo9/tumblr_static_tumblr_static_28z87js742xwowwo0kco04ogs_focused_v3.jpg","header_image_scaled":"http://static.tumblr.com/be2b0380984b972b47699d457f4c0ffb/ivjir8a/815nn0qo7/tumblr_static_28z87js742xwowwo0kco04ogs_2048_v2.jpg","header_stretch":true,"link_color":"#529ECC","show_avatar":true,"show_description":true,"show_header_image":true,"show_title":true,"title_color":"#444444","title_font":"Gibson","title_font_weight":"bold"}},"post":{"id":"57552534494"},"content":"<div align=\"center\"><iframe frameborder=\"0\" height=\"315\" src=\"//www.youtube.com/embed/pIKIXQNFplY\" width=\"420\"></iframe></div>\n<p>Last week, security researchers announced that a new attack towards websites has been discovered called <a href=\"http://breachattack.com/\">BREACH</a>. This attack allows the attacker to obtain data even if connections are secured with SSL connections. Several web sites and applications could be compromised. Note that this attack could affect any web application no matter the technology (language, os, frameworks, etc) that powers it. Their <a href=\"http://breachattack.com/resources/BREACH%20-%20SSL,%20gone%20in%2030%20seconds.pdf\">paper</a> explains the attack and provides full details on how it works.</p>\n<p>In short, your application may be affected if:</p>\n<ul><li>Your page is served with HTTP compression enabled (GZIP / DEFLATE).</li>\n<li>Your page reflects user data via query string parameters, POST, etc.</li>\n<li>Your application page serves Personally identifiable information<em> (</em>PII), a CSRF token, sensitive data..</li>\n</ul><p>According to the <a href=\"http://breachattack.com/#mitigations\">possible solutions</a> to mitigate this attack as suggested by the authors, you can:</p>\n<ul><li>Disable HTTP compression.</li>\n<li>Separate secrets from user input</li>\n<li>Randomize secrets per request</li>\n<li>Mask secrets (effectively randomizing by XORing with a random secret per request)</li>\n<li>Protect vulnerable pages with CSRF</li>\n<li>Length hide (by adding random amount of bytes to the responses)</li>\n<li>Rate-limit the requests</li>\n</ul><p>By default, Phalcon randomizes CSRF secrets for every request using pseudo random string of bytes. If you have altered this behavior we strongly suggest that you restore it to the default one.</p>\n<p>You are also encouraged to disable GZip compression on your web server. For Apache, disable the <a href=\"http://httpd.apache.org/docs/2.2/mod/mod_deflate.html\">mod_deflate</a> module and for nginX the <a href=\"http://wiki.nginx.org/HttpGzipModule\">gzip module</a>. If you are using a different web server please check the relevant documentation in order to disable gzip compression if it is currently in use.</p>","content_raw":"<div align=\"center\"><iframe frameborder=\"0\" height=\"315\" src=\"//www.youtube.com/embed/pIKIXQNFplY\" width=\"420\"></iframe></div>\r\n<p>Last week, security researchers announced that a new attack towards websites has been discovered called <a href=\"http://breachattack.com/\">BREACH</a>. This attack allows the attacker to obtain data even if connections are secured with SSL connections. Several web sites and applications could be compromised. Note that this attack could affect any web application no matter the technology (language, os, frameworks, etc) that powers it. Their <a href=\"http://breachattack.com/resources/BREACH%20-%20SSL,%20gone%20in%2030%20seconds.pdf\">paper</a> explains the attack and provides full details on how it works.</p>\r\n<p>In short, your application may be affected if:</p>\r\n<ul><li>Your page is served with HTTP compression enabled (GZIP / DEFLATE).</li>\r\n<li>Your page reflects user data via query string parameters, POST, etc.</li>\r\n<li>Your application page serves&nbsp;Personally identifiable information<em> (</em>PII), a CSRF token, sensitive data..</li>\r\n</ul><p>According to the <a href=\"http://breachattack.com/#mitigations\">possible solutions</a> to mitigate this attack as suggested by the authors, you can:</p>\r\n<ul><li>Disable HTTP compression.</li>\r\n<li>Separate secrets from user input</li>\r\n<li>Randomize secrets per request</li>\r\n<li>Mask secrets (effectively randomizing by XORing with a random secret per request)</li>\r\n<li>Protect vulnerable pages with CSRF</li>\r\n<li>Length hide (by adding random amount of bytes to the responses)</li>\r\n<li>Rate-limit the requests</li>\r\n</ul><p>By default, Phalcon randomizes CSRF secrets for every request using pseudo random string of bytes. If you have altered this behavior we strongly suggest that you restore it to the default one.</p>\r\n<p>You are also encouraged to disable GZip compression on your web server. For Apache, disable the <a href=\"http://httpd.apache.org/docs/2.2/mod/mod_deflate.html\">mod_deflate</a> module and for nginX the <a href=\"http://wiki.nginx.org/HttpGzipModule\">gzip module</a>. If you are using a different web server please check the relevant documentation in order to disable gzip compression if it is currently in use.</p>\r\n<p></p>","is_current_item":true,"is_root_item":true}]}
publish: 2013-08-06
-->


Security Update: BREACH, PHP and Phalcon
========================================

Last week, security researchers announced that a new attack towards
websites has been discovered called [BREACH](http://breachattack.com/).
This attack allows the attacker to obtain data even if connections are
secured with SSL connections. Several web sites and applications could
be compromised. Note that this attack could affect any web application
no matter the technology (language, os, frameworks, etc) that powers it.
Their
[paper](http://breachattack.com/resources/BREACH%20-%20SSL,%20gone%20in%2030%20seconds.pdf)
explains the attack and provides full details on how it works.

In short, your application may be affected if:

-   Your page is served with HTTP compression enabled (GZIP / DEFLATE).
-   Your page reflects user data via query string parameters, POST, etc.
-   Your application page serves Personally identifiable
    information*(*PII), a CSRF token, sensitive data..

According to the [possible
solutions](http://breachattack.com/#mitigations) to mitigate this attack
as suggested by the authors, you can:

-   Disable HTTP compression.
-   Separate secrets from user input
-   Randomize secrets per request
-   Mask secrets (effectively randomizing by XORing with a random secret
    per request)
-   Protect vulnerable pages with CSRF
-   Length hide (by adding random amount of bytes to the responses)
-   Rate-limit the requests

By default, Phalcon randomizes CSRF secrets for every request using
pseudo random string of bytes. If you have altered this behavior we
strongly suggest that you restore it to the default one.

You are also encouraged to disable GZip compression on your web server.
For Apache, disable the
[mod\_deflate](http://httpd.apache.org/docs/2.2/mod/mod_deflate.html)
module and for nginX the [gzip
module](http://wiki.nginx.org/HttpGzipModule). If you are using a
different web server please check the relevant documentation in order to
disable gzip compression if it is currently in use.

